<template>
  <div>
    <h1>USER LISTğŸ˜</h1>
    <div class="regist_form">
      <table>
        <thead>
          <th v-for="field in fields" :key="field">{{ field }}</th>
        </thead>
        <tbody>
          <tr v-for="(user, index) in users" :key="index">
            <td>{{ index + 1 }}</td>
            <td>{{ user.userName }}</td>
            <td>
              <router-link :to="{ name: 'userDetail', params: { id: user.userId } }">
                {{ user.userId }}
              </router-link>
            </td>
            <td>{{ user.emailId }}@{{ user.emailDomain }}</td>
            <td>{{ user.joinDate }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>

<script>
import { mapState, mapActions } from "vuex";

export default {
  data() {
    return {
      fields: ["ë²ˆí˜¸", "ì´ë¦„", "ì•„ì´ë””", "ì´ë©”ì¼", "ê°€ì…ì¼ì"],
    };
  },
  computed: {
    //mapStateì‚¬ìš©
    ...mapState("userStore", ["users"]),
  },
  created() {
    //mapActions ì‚¬ìš©
    this.setUsers();
  },
  methods: {
    //storeì˜ setBooks ë©”ì†Œë“œë¥¼ ì§ì ‘ í˜¸ì¶œê°€ëŠ¥í•˜ë„ë¡ ë“±ë¡
    ...mapActions("userStore", ["setUsers"]),
  },
};
</script>
<style scoped>
.regist_form {
  padding: 0 300px;
}
h1 {
  font-weight: 700;
}
a {
  text-decoration: none;
  color: black;
}
table {
  background-color: white;
  color: black;
  width: 100%;
  border-radius: 40px;
  cursor: pointer;
  border: 1px solid #08250b;
  margin-top: 50px;
}
</style>
